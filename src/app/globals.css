@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import des design tokens de la librairie UI */
@import '../ui/tokens/design-tokens.css';

/* Felora Landing Page Custom Styles */
:root {
  --felora-void: #000000;
  --felora-obsidian: #0D0D0D;
  --felora-charcoal: #1A1A1A;
  --felora-steel: #2A2A2A;
  --felora-silver: #F8F9FA;
  --felora-pearl: #FFFFFF;
  --felora-aurora: #FF6B9D;
  --felora-neon: #00F5FF;
  --felora-plasma: #B794F6;
  --felora-quantum: #4FD1C7;
  --felora-neural: #7C3AED;
}

/* Styles de base pour l'application */
html, body { 
  height: 100%; 
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  scroll-behavior: smooth;
  /* Gestion des safe areas */
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Force le scroll sur toute l'application */
#__next {
  overflow-y: auto !important;
  height: auto !important;
}

/* Assurer le scroll sur le body */
body {
  overflow-y: auto !important;
}

/* Fix pour le scroll bloqué sur les pages d'inscription et dashboard */
[data-scroll-container] {
  overflow-y: auto !important;
  height: auto !important;
}

/* Fix spécifique pour les dashboards */
.dashboard-container {
  overflow-y: auto !important;
  max-height: none !important;
  height: auto !important;
}

/* Assurer que les éléments sticky ne bloquent pas le scroll */
.sticky-header {
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  z-index: 100;
}

/* Hide static bottom nav and remove bottom padding in map-test or when requested */
body[data-hide-static-nav="true"] [data-static-nav="true"] {
  display: none !important;
}
body[data-hide-static-nav="true"] [data-app-shell] {
  padding-bottom: 0 !important;
  padding-top: 0 !important;
}

/* Hide menu burger on admin pages */
body:has([data-hide-menu="true"]) [data-menu="true"],
body:has([data-hide-menu="true"]) button[data-menu] {
  display: none !important;
}

/* Hide footer on admin pages - Multiple selectors pour compatibilité */
body:has([data-admin-layout="true"]) footer,
[data-admin-layout="true"] ~ footer,
body:has([data-hide-menu="true"]) footer {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  pointer-events: none !important;
}

/* Styles spécifiques pour le feed TikTok responsive */
.feed-container {
  /* Optimisation du scroll snap */
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.feed-item {
  /* Hauteur fixe pour éviter les décalages */
  height: 100vh;
  min-height: 100vh;
  max-height: 100vh;
  /* Fallback pour les navigateurs anciens */
  height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

/* Optimisation des vidéos pour le responsive */
.video-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.video-container video,
.video-container img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  object-fit: cover;
  object-position: center center;
}

/* Gestion des breakpoints pour le feed */
@media (max-width: 768px) {
  .feed-item {
    height: 100vh;
    height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .feed-item {
    height: 100vh;
    max-width: 768px;
    margin: 0 auto;
  }
}

@media (min-width: 1025px) {
  .feed-item {
    height: 100vh;
    max-width: 480px;
    margin: 0 auto;
  }
}

/* Optimisation pour les appareils avec notch */
@supports (padding: max(0px)) {
  .feed-item {
    height: 100vh;
    height: calc(100vh - max(env(safe-area-inset-top, 0px), env(safe-area-inset-bottom, 0px)));
  }
}

/* Utility pour cacher les scrollbars tout en gardant la fonctionnalité de scroll */
@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }

  /* Snap scroll pour carrousel style App Store */
  .snap-x {
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }
  .snap-mandatory {
    scroll-snap-type: x mandatory;
  }
  .snap-center {
    scroll-snap-align: center;
    scroll-snap-stop: always;
  }

  .animate-gradient-shift {
    background-size: 200% 200%;
    animation: gradient-shift 15s ease infinite;
  }

  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .text-shadow-glow {
    text-shadow: 0 0 20px rgba(112, 0, 227, 0.5),
                 0 0 40px rgba(227, 0, 140, 0.3),
                 0 0 60px rgba(255, 102, 27, 0.2);
  }
}

/* Hide scrollbar completely for immersive experience (TikTok-style) */
::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
}

html, body {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* Selection styling */
::selection {
  background: rgba(112, 0, 227, 0.3);
  color: white;
}

::-moz-selection {
  background: rgba(112, 0, 227, 0.3);
  color: white;
}

/* Toast animations */
@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

/* Skeleton pulse animation */
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-skeleton {
  animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

